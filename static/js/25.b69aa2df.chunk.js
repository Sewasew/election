(this["webpackJsonpsewasew-election-center"]=this["webpackJsonpsewasew-election-center"]||[]).push([[25],{120:function(e,t,n){!function(e,t){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var i="Left",c="Right",a="Up",r="Down",s={delta:10,preventDefaultTouchmoveEvent:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0},o={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},l="mousemove",u="mouseup",d="touchend",h="touchmove",p="touchstart";function v(e,t,n,s){return e>t?n>0?c:i:s>0?r:a}function j(e,t){if(0===t)return e;var n=Math.PI/180*t;return[e[0]*Math.cos(n)+e[1]*Math.sin(n),e[1]*Math.cos(n)-e[0]*Math.sin(n)]}function b(e,t){var i=function(t){t&&"touches"in t&&t.touches.length>1||e((function(e,i){i.trackMouse&&(document.addEventListener(l,c),document.addEventListener(u,s));var a="touches"in t?t.touches[0]:t,r=j([a.clientX,a.clientY],i.rotationAngle);return n({},e,o,{initial:[].concat(r),xy:r,start:t.timeStamp||0})}))},c=function(t){e((function(e,i){if("touches"in t&&t.touches.length>1)return e;var c="touches"in t?t.touches[0]:t,a=j([c.clientX,c.clientY],i.rotationAngle),r=a[0],s=a[1],o=r-e.xy[0],l=s-e.xy[1],u=Math.abs(o),d=Math.abs(l),h=(t.timeStamp||0)-e.start,p=Math.sqrt(u*u+d*d)/(h||1),b=[o/(h||1),l/(h||1)];if(u<i.delta&&d<i.delta&&!e.swiping)return e;var f=v(u,d,o,l),O={absX:u,absY:d,deltaX:o,deltaY:l,dir:f,event:t,first:e.first,initial:e.initial,velocity:p,vxvy:b};O.first&&i.onSwipeStart&&i.onSwipeStart(O),i.onSwiping&&i.onSwiping(O);var m=!1;return(i.onSwiping||i.onSwiped||"onSwiped"+f in i)&&(m=!0),m&&i.preventDefaultTouchmoveEvent&&i.trackTouch&&t.cancelable&&t.preventDefault(),n({},e,{first:!1,eventData:O,swiping:!0})}))},a=function(t){e((function(e,i){var c;if(e.swiping&&e.eventData){c=n({},e.eventData,{event:t}),i.onSwiped&&i.onSwiped(c);var a="onSwiped"+c.dir;a in i&&i[a](c)}else i.onTap&&i.onTap({event:t});return n({},e,o,{eventData:c})}))},r=function(){document.removeEventListener(l,c),document.removeEventListener(u,s)},s=function(e){r(),a(e)},b=function(e,t){var n=function(){};if(e&&e.addEventListener){var r=[[p,i],[h,c],[d,a]];r.forEach((function(n){var i=n[0],c=n[1];return e.addEventListener(i,c,{passive:t})})),n=function(){return r.forEach((function(t){var n=t[0],i=t[1];return e.removeEventListener(n,i)}))}}return n},f={ref:function(t){null!==t&&e((function(e,i){if(e.el===t)return e;var c={};return e.el&&e.el!==t&&e.cleanUpTouch&&(e.cleanUpTouch(),c.cleanUpTouch=void 0),i.trackTouch&&t&&(c.cleanUpTouch=b(t,!i.preventDefaultTouchmoveEvent)),n({},e,{el:t},c)}))}};return t.trackMouse&&(f.onMouseDown=i),[f,b]}function f(e,t,i){var c={};return!t.trackTouch&&e.cleanUpTouch?(e.cleanUpTouch(),c.cleanUpTouch=void 0):t.trackTouch&&!e.cleanUpTouch&&e.el&&(c.cleanUpTouch=i(e.el,!t.preventDefaultTouchmoveEvent)),n({},e,c)}function O(e){var i=e.trackMouse,c=t.useRef(n({},o)),a=t.useRef(n({},s));a.current=n({},s,e);var r=t.useMemo((function(){return b((function(e){return c.current=e(c.current,a.current)}),{trackMouse:i})}),[i]),l=r[0],u=r[1];return c.current=f(c.current,a.current,u),l}e.DOWN=r,e.LEFT=i,e.RIGHT=c,e.UP=a,e.useSwipeable=O}(t,n(2))},158:function(e,t,n){"use strict";n.r(t);var i=n(25),c=n(20),a=n(32),r=n(5),s=n(113),o=n(16),l=function(e){var t=e.width,n=e.statistic,i=window.innerWidth;t||(t=i>769?480:i);var c=(i>769?.9:1)*t/.885,a=42+r.i+c;return Object(o.jsxs)(s.a,{viewBox:"0 0 ".concat(t," ").concat(a),height:a,width:t,speed:2,backgroundColor:r.u[n].color,children:[Object(o.jsx)("circle",{cx:.4*t,cy:a/2,r:"5"}),Object(o.jsx)("circle",{cx:.5*t,cy:a/2,r:"5"}),Object(o.jsx)("circle",{cx:.6*t,cy:a/2,r:"5"})]})},u=n(18),d=n(86),h=n(71),p=n.n(h),v=n(81),j=n.n(v),b=n(93),f=n(2),O=n(94),m=n(6),x=n(80),g=n(120),T=n(654),C=Object(f.lazy)((function(){return Object(u.k)((function(){return Promise.all([n.e(3),n.e(10),n.e(28)]).then(n.bind(null,661))}))}));function w(e){var t,n=this,s=e.stateCode,h=void 0===s?"TT":s,v=e.data,j=e.mapStatistic,w=e.setMapStatistic,S=e.regionHighlighted,y=e.setRegionHighlighted,k=e.anchor,E=e.setAnchor,N=e.expandTable,M=void 0!==N&&N,U=e.hideDistrictData,D=void 0!==U&&U,L=Object(O.a)().t,R=Object(f.useRef)(),H=Object(T.a)().width,I=Object(f.useState)(r.l.DISTRICTS),B=Object(a.a)(I,2),P=B[0],A=B[1],q=Object(f.useState)(r.m.CHOROPLETH),Y=Object(a.a)(q,2),W=Y[0],X=Y[1],z=r.j[h],V=z.mapType===r.k.COUNTRY?v:Object(c.a)({},h,v[h]),F=Object(f.useMemo)((function(){var e,t,n=(S.districtName?null===(e=v[S.stateCode])||void 0===e||null===(t=e.districts)||void 0===t?void 0:t[S.districtName]:v[S.stateCode])||{};return Object(b.a)(n,(function(e){e.name=S.districtName||r.t[S.stateCode]}))}),[v,S.stateCode,S.districtName]),J=Object(f.useCallback)((function(e){switch(e){case r.m.CHOROPLETH:X(r.m.CHOROPLETH);break;case r.m.BUBBLES:X(r.m.BUBBLES)}}),[X]),_=Object(f.useCallback)((function(){var e=P===r.l.DISTRICTS?r.l.STATES:r.l.DISTRICTS;e===r.l.STATES&&y({stateCode:S.stateCode,districtName:null}),A(e)}),[P,y,S.stateCode]),G=Object(f.useMemo)((function(){return Object(o.jsx)("svg",{width:"314",height:"314",viewBox:"0 0 314 314",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(o.jsx)("path",{d:"M78.2861 145.778C80.6671 155.387 84.6108 164.28 92.421 170.488C94.5409 174.766 93.7381 180.115 96.2412 184.535C99.7619 190.751 102.898 195.156 110.758 195.156C119.259 195.156 127.582 192.241 132.576 184.963C136.539 179.187 143.562 174.194 150.658 178.968C156.039 182.587 157.864 191.253 161.949 196.312C168.044 203.859 175.962 212.131 184.107 217.339C190.795 221.615 199.602 221.297 207.368 220.551C214.111 219.903 220.088 212.137 223.71 207.189C227.102 202.555 230.602 198.075 233.006 192.843C238.463 180.961 236.721 162.008 225.62 153.958C213.23 144.974 196.881 145.725 183.343 139.654C175.796 136.27 175.843 122.587 174.174 115.758C172.492 108.876 170.655 99.867 164.581 95.3733C155.36 88.5509 146.436 93.7458 137.075 96.444C133.325 97.525 131.816 100.817 129.095 103.424L129.093 103.426C126.105 106.29 121.531 110.674 117.974 112.632C113.709 114.979 111.262 119.456 105.834 119.612C104.487 119.651 98.6801 120.375 97.7693 119.227C94.2704 114.814 92.1979 113.445 86.6906 113.445C83.0636 113.445 77.14 118.241 77.14 122.31C77.14 130.086 76.4094 138.205 78.2861 145.778Z",strokeWidth:"10",strokeLinecap:"round",strokeLinejoin:"round"})})}),[]),Z=Object(f.useMemo)((function(){return Object(o.jsxs)("svg",{width:"22",height:"27",viewBox:"-1 -5 22 27",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(o.jsx)("circle",{cx:"5.5",cy:"5.5",r:"5.5",fillOpacity:"0.4"}),Object(o.jsx)("circle",{cx:"5.5",cy:"5.5",r:"5",strokeOpacity:"0.5"}),Object(o.jsx)("circle",{cx:"6.5",cy:"11.5",r:"3.5",fillOpacity:"0.4"}),Object(o.jsx)("circle",{cx:"6.5",cy:"11.5",r:"3",strokeOpacity:"0.5"}),Object(o.jsx)("circle",{cx:"13.5",cy:"9.5",r:"6.5",fillOpacity:"0.4"}),Object(o.jsx)("circle",{cx:"13.5",cy:"9.5",r:"6",strokeOpacity:"0.5"})]})}),[]),K=Object(m.g)(),Q=Object(f.useRef)();Object(f.useEffect)((function(){"#MapExplorer"===K.location.hash&&Q.current.scrollIntoView()}),[K]);var $=Object(f.useMemo)((function(){var e=[];return[0,0,0,0,0,0,0].map((function(t,n){return e.push({animationDelay:"".concat(250*n,"ms")}),null})),e}),[]),ee=W===r.m.CHOROPLETH,te=Object(f.useCallback)((function(e){return Object(u.g)(e,"total",j,{perMillion:!1})}),[j,ee]),ne=Object(x.useSpring)({total:te(F),config:Object(i.a)({tension:250},r.r)}),ie=function(e){var t=r.q.indexOf(j),n=(r.q.length+t+e)%r.q.length;w(r.q[n])},ce=Object(g.useSwipeable)({onSwipedLeft:ie.bind(this,1),onSwipedRight:ie.bind(this,-1)}),ae=r.u[j],re=P===r.l.DISTRICTS&&!D,se="mapexplorer"===k||M&&H>769;return Object(o.jsxs)("div",{className:p()("MapExplorer",{stickied:se},{hidden:k&&"mapexplorer"!==k&&(!M||H<769)}),children:[Object(o.jsx)("div",{className:p()("anchor","fadeInUp",{stickied:se}),style:{display:H<769||H>769&&M?"none":""},onClick:E&&E.bind(this,"mapexplorer"===k?null:"mapexplorer"),children:Object(o.jsx)(d.k,{})}),Object(o.jsxs)("div",{className:"panel",ref:Q,children:[Object(o.jsxs)("div",{className:"panel-left fadeInUp",style:$[0],children:[Object(o.jsxs)("h2",{className:p()(j),children:[L(F.name),F.name===r.z&&" [".concat(L(r.t[S.stateCode]),"]")]}),S.stateCode&&Object(o.jsxs)("h1",{className:p()("district",j),children:[Object(o.jsx)(x.animated.div,{children:ne.total.to((function(e){return Object(u.e)(e,"short"!==ae.format?ae.format:"int",j)}))}),Object(o.jsx)("span",{children:"".concat(L(Object(u.a)(ae.displayName)))})]})]}),Object(o.jsxs)("div",{className:p()("panel-right","is-".concat(j)),children:[Object(o.jsxs)("div",{className:"switch-type",children:[Object(o.jsx)("div",{className:p()("choropleth fadeInUp",{"is-highlighted":W===r.m.CHOROPLETH}),onClick:J.bind(this,r.m.CHOROPLETH),style:$[1],children:G}),Object(o.jsx)("div",{className:p()("bubble fadeInUp",{"is-highlighted":W===r.m.BUBBLES}),onClick:J.bind(this,r.m.BUBBLES),style:$[2],children:Z}),z.mapType===r.k.COUNTRY&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"divider"}),Object(o.jsx)("div",{className:p()("boundary fadeInUp",{"is-highlighted":re}),onClick:_.bind(this),style:$[3],children:Object(o.jsx)(d.j,{})})]}),z.mapType===r.k.STATE&&Object(o.jsx)("div",{className:"back fadeInUp",onClick:function(){K.push("/#MapExplorer")},style:$[4],children:Object(o.jsx)(d.b,{})})]}),(M||H<769)&&Object(o.jsx)("div",{className:"switch-statistic fadeInUp",style:$[5],children:r.q.map((function(e){return Object(o.jsx)("div",{className:p()("statistic-option","is-".concat(e),{"is-highlighted":j===e}),onClick:w.bind(n,e),children:Object(o.jsx)(d.d,{})},e)}))})]})]}),Object(o.jsx)("div",Object(i.a)(Object(i.a)({ref:R,className:"fadeInUp",style:$[3]},ce),{},{children:j&&Object(o.jsx)(f.Suspense,{fallback:Object(o.jsx)(l,{className:"map-loader",width:null===(t=R.current)||void 0===t?void 0:t.clientWidth,statistic:j}),children:Object(o.jsx)(C,{mapCode:h,isDistrictView:re,mapViz:W,data:V,regionHighlighted:S,setRegionHighlighted:y,statistic:j,getStatistic:te})})}))]})}var S=function(e,t){var n,i,c,a,r,s,o,l,u,d;return!!j()(e.stateCode,t.stateCode)&&(!!j()(e.regionHighlighted,t.regionHighlighted)&&(!!j()(e.mapStatistic,t.mapStatistic)&&(!!j()(e.anchor,t.anchor)&&(!!j()(e.hideDistrictData,t.hideDistrictData)&&(!!j()(e.expandTable,t.expandTable)&&(!!j()(null===(n=e.data)||void 0===n||null===(i=n.TT)||void 0===i||null===(c=i.meta)||void 0===c?void 0:c.last_updated,null===(a=t.data)||void 0===a||null===(r=a.TT)||void 0===r||null===(s=r.meta)||void 0===s?void 0:s.last_updated)&&!!j()(null===(o=e.data)||void 0===o||null===(l=o.TT)||void 0===l?void 0:l.total,null===(u=t.data)||void 0===u||null===(d=u.TT)||void 0===d?void 0:d.total)))))))};t.default=Object(f.memo)(w,S)}}]);
//# sourceMappingURL=25.b69aa2df.chunk.js.map