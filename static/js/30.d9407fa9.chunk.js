(this["webpackJsonpsewasew-election-center"]=this["webpackJsonpsewasew-election-center"]||[]).push([[30],{658:function(t,e,i){"use strict";i.r(e);var a=i(32),s=i(6),d=i(18),l=i(71),c=i.n(l),n=i(81),o=i.n(n),r=i(2),j=i(80),b=i(16),u=function(t){var e=t.statistic,i=t.data,a=t.isPerMillion,l=t.lastUpdatedTT,n=Object(d.h)(i,e,{perMillion:a},l),o=n.total,r=n.delta,u=Object(j.useSpring)({total:o,delta:r,config:s.q}),h=s.t[e];return Object(b.jsxs)("div",{className:"cell statistic",children:[!h.hideDelta&&Object(b.jsx)(j.animated.div,{className:c()("delta","is-".concat(e)),title:r,children:u.delta.to((function(t){return t>0?"\u2191"+Object(d.e)(t,h.format):t<0?"\u2193"+Object(d.e)(Math.abs(t),h.format):""}))}),Object(b.jsx)(j.animated.div,{className:"total",title:o,children:u.total.to((function(t){return Object(d.e)(t,h.format,e)}))})]})},h=function(t,e){var i,a,s,d;return!!o()(null===(i=t.data)||void 0===i?void 0:i.total,null===(a=e.data)||void 0===a?void 0:a.total)&&(!!o()(null===(s=t.data)||void 0===s?void 0:s.delta,null===(d=e.data)||void 0===d?void 0:d.delta)&&!!o()(t.isPerMillion,e.isPerMillion))},m=Object(r.memo)(u,h),v=i(119),g=i(86),O=i(94),x=i(95);function N(t){var e,i=t.stateCode,a=t.districtName,s=t.data,d=t.tableStatistics,l=t.isPerMillion,n=t.regionHighlighted,o=t.setRegionHighlighted,j=(t.expandTable,t.lastUpdatedTT),u=Object(x.a)().t,h=Object(r.useCallback)((function(){n.districtName!==a&&o(Object(O.a)(n,(function(t){t.stateCode=i,t.districtName=a})))}),[n,a,o,i]);return Object(b.jsxs)("div",{className:c()("row","district",{"is-highlighted":(null===n||void 0===n?void 0:n.districtName)===a}),onMouseEnter:h,children:[Object(b.jsxs)("div",{className:"cell",children:[Object(b.jsx)("div",{className:"state-name",children:u(a)}),(null===s||void 0===s||null===(e=s.meta)||void 0===e?void 0:e.notes)&&Object(b.jsx)(v.a,{data:s.meta.notes,children:Object(b.jsx)(g.i,{size:16})})]}),d.map((function(t){return Object(b.jsx)(m,{statistic:t,data:s,isPerMillion:l,lastUpdatedTT:j},t)}))]})}var p=function(t,e){var i,a,s,d,l,c;return!!o()(null===(i=t.data)||void 0===i?void 0:i.total,null===(a=e.data)||void 0===a?void 0:a.total)&&(!!o()(null===(s=t.data)||void 0===s?void 0:s.delta,null===(d=e.data)||void 0===d?void 0:d.delta)&&(!!o()(null===(l=t.data)||void 0===l?void 0:l.last_updated,null===(c=e.data)||void 0===c?void 0:c.last_updated)&&(!!o()(t.isPerMillion,e.isPerMillion)&&(!(!o()(t.regionHighlighted.districtName,e.regionHighlighted.districtName)&&(o()(t.regionHighlighted.districtName,t.districtName)||o()(e.regionHighlighted.districtName,e.districtName)))&&(!!o()(t.expandTable,e.expandTable)&&!!o()(t.tableStatistics,e.tableStatistics))))))},C=Object(r.memo)(N,p),f=i(158),T=i(5),H=i(633);function M(t){var e,i,l=this,n=t.data,o=t.tableStatistics,j=t.stateCode,u=t.districtName,h=t.isPerMillion,N=t.regionHighlighted,p=t.setRegionHighlighted,M=t.expandTable,k=t.lastUpdatedTT,S=Object(r.useState)(!1),w=Object(a.a)(S,2),P=w[0],U=w[1],A=Object(H.a)("districtSortData",{sortColumn:"registered",isAscending:!1,delta:!1}),D=Object(a.a)(A,2),y=D[0],R=D[1],_=Object(T.g)(),z=Object(x.a)().t,E=Object(r.useRef)(),F=Object(r.useCallback)((function(t){R(Object(O.a)(y,(function(e){e.isAscending=!y.isAscending,e.sortColumn=t})))}),[y,R]),I=Object(r.useCallback)((function(t,e){if("districtName"!==y.sortColumn){var i=s.t[y.sortColumn],a=y.delta&&!i.hideDelta?"delta":"total",l=Object(d.h)(n.districts[t],y.sortColumn,{perMillion:h},k)[a],c=Object(d.h)(n.districts[e],y.sortColumn,{perMillion:h},k)[a];return y.isAscending?l-c:c-l}return y.isAscending?t.localeCompare(e):e.localeCompare(t)}),[y,n,h,k]),J=Object(r.useCallback)((function(){j?N.stateCode!==j&&p(Object(O.a)(N,(function(t){t.stateCode=j,t.districtName=null}))):u&&(N.districtName===u&&N.stateCode===n.stateCode||p(Object(O.a)(N,(function(t){t.stateCode=n.stateCode,t.districtName=u}))))}),[n.stateCode,u,N,p,j]),q=Object(r.useCallback)((function(){n.districts&&U(!P)}),[P,n]),V=z(u);u===s.y&&(V="".concat(z(s.y)," [").concat(z(s.s[n.stateCode]),"]"));var Z=Object(r.useCallback)((function(t){_.push("state/".concat(t))}),[_]),B=Object(r.useCallback)((function(){U(!1),E.current.scrollIntoView({block:"start"})}),[]);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:c()("row",{"is-total":"TT"===j},{"is-highlighted":j&&(null===N||void 0===N?void 0:N.stateCode)===j||u&&(null===N||void 0===N?void 0:N.districtName)===u&&(null===N||void 0===N?void 0:N.stateCode)===n.stateCode}),onMouseEnter:J,onClick:q,ref:E,children:[Object(b.jsxs)("div",{className:"cell",children:[Object(b.jsx)("div",{className:"state-name fadeInUp",children:z(s.s[j])||V}),(null===n||void 0===n||null===(e=n.meta)||void 0===e?void 0:e.notes)&&Object(b.jsx)(v.a,{data:n.meta.notes,children:Object(b.jsx)(g.i,{size:16})})]}),o.map((function(t){return Object(b.jsx)(m,{data:n,statistic:t,isPerMillion:h,lastUpdatedTT:k},t)}))]}),P&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"state-meta",children:[Object(b.jsxs)("div",{className:"state-meta-top",children:[(null===n||void 0===n||null===(i=n.meta)||void 0===i?void 0:i.last_updated)&&Object(b.jsxs)("p",{className:"last-updated",children:[Object(b.jsx)(g.c,{}),Object(d.a)("".concat(Object(d.d)(n.meta.last_updated)," ").concat(z("ago")))]}),Object(b.jsxs)("div",{className:"state-page",onClick:Z.bind(this,j),children:[Object(b.jsx)(g.h,{}),Object(b.jsx)("span",{children:z("See more details on {{state}}",{state:j})})]})]}),n.districts&&s.y in n.districts&&Object(b.jsx)("div",{className:"state-meta-bottom",children:Object(b.jsxs)("div",{className:c()("disclaimer"),children:[Object(b.jsx)(g.a,{}),Object(b.jsx)("span",{children:z("District-wise data not available in state bulletin")})]})})]}),Object(b.jsxs)("div",{className:c()("row","heading"),children:[Object(b.jsxs)("div",{className:"cell heading",onClick:F.bind(this,"districtName"),children:[Object(b.jsx)("div",{className:"district-name",children:z("Zone")}),"districtName"===y.sortColumn&&Object(b.jsx)("div",{className:c()("sort-icon",{invert:!y.isAscending}),children:Object(b.jsx)(g.e,{size:10})})]}),o.map((function(t){return Object(b.jsx)(f.a,{statistic:t,sortData:y,setSortData:R,handleSort:F.bind(l,t)},t)}))]})]}),P&&Object.keys(n.districts||{}).sort((function(t,e){return I(t,e)})).map((function(t){return Object(b.jsx)(C,{data:n.districts[t],tableStatistics:o,districtName:t,regionHighlighted:N,setRegionHighlighted:p,stateCode:j,isPerMillion:h,expandTable:M,lastUpdatedTT:k},t)})),P&&Object(b.jsx)("div",{className:"spacer-row",children:Object(b.jsxs)("div",{className:"spacer",children:[Object(b.jsx)("p",{children:"End of ".concat(z(s.s[j]),"'s districts")}),Object(b.jsx)("div",{className:"fold",onClick:B,children:Object(b.jsx)(g.g,{})})]})})]})}var k=function(t,e){var i,a,s,d;return!!o()(null===(i=t.data)||void 0===i?void 0:i.total,null===(a=e.data)||void 0===a?void 0:a.total)&&(!!o()(null===(s=t.data)||void 0===s?void 0:s.delta,null===(d=e.data)||void 0===d?void 0:d.delta)&&(!!o()(t.isPerMillion,e.isPerMillion)&&(!(!o()(t.regionHighlighted.stateCode,e.regionHighlighted.stateCode)&&o()(t.regionHighlighted.stateCode,t.stateCode)||o()(e.regionHighlighted.stateCode,e.stateCode))&&(!(!o()(t.regionHighlighted.districtName,e.regionHighlighted.districtName)&&o()(t.regionHighlighted.districtName,t.districtName)||o()(e.regionHighlighted.districtName,e.districtName))&&(!!o()(t.expandTable,e.expandTable)&&!!o()(t.tableStatistics,e.tableStatistics))))))};e.default=Object(r.memo)(M,k)}}]);
//# sourceMappingURL=30.d9407fa9.chunk.js.map