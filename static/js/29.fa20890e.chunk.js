(this["webpackJsonpsewasew-election-center"]=this["webpackJsonpsewasew-election-center"]||[]).push([[29],{607:function(t,e,n){"use strict";n.r(e);var r=n(32),a=n(5),c=n(18),i=n(71),o=n.n(i),u=n(613),s=n(608),l=n(646),f=n(126),j=n(635),d=n(651),b=n(636),O=(n(157),n(47)),h=n(61),p=n(81),m=n.n(p),g=n(2),y=n(160),v=n(16),w=10,k=10,x=2,M=10;function A(t){var e=t.timeseries,n=t.date,i=Object(g.useRef)([]),p=n||Object(c.f)(),m=Object(y.a)(),A=Object(r.a)(m,2),R=A[0],q=A[1].width;q=Math.min(q,120);var C=Object(g.useMemo)((function(){var t=Object.keys(e||{}).filter((function(t){return t<=p})),n=t[t.length-1],r=Object(O.a)(Object(h.a)(Object(c.j)(n),a.n),{representation:"date"});return t.filter((function(t){return t>=r}))}),[p,e]);return Object(g.useEffect)((function(){if(q){var t=C.length,n=q-k,r=75-x,o=Object(l.a)().clamp(!0).domain([Object(c.j)(C[0]||p),Object(c.j)(C[t-1])||p]).range([M,n]);i.current.forEach((function(n,i){var l,O=Object(j.a)(n),h=a.q[i],p=a.u[h].color,m=Object(u.a)(C,(function(t){return Math.abs(Object(c.g)(e[t],"delta",h))})),g=Object(f.a)().clamp(!0).domain([-m,m]).range([r,w]),y=Object(d.a)().curve(b.a).x((function(t){return o(Object(c.j)(t))})).y((function(t){return g(Object(c.g)(e[t],"delta",h))}));O.selectAll("path").data(t?[C]:[]).join((function(t){return t.append("path").attr("fill","none").attr("stroke",p+"99").attr("stroke-width",2.5).attr("d",y).attr("stroke-dasharray",(function(){return l=this.getTotalLength()})).call((function(t){return t.attr("stroke-dashoffset",l).transition().delay(100).duration(2500).attr("stroke-dashoffset",0)}))}),(function(t){return t.attr("stroke-dasharray",null).transition().duration(500).attrTween("d",(function(t){var e=Object(j.a)(this).attr("d"),n=y(t);return Object(s.interpolatePath)(e,n)})).selection()})),O.selectAll("circle").data(t?[C[t-1]]:[]).join((function(t){return t.append("circle").attr("fill",p).attr("r",2.5).attr("cx",(function(t){return o(Object(c.j)(t))})).attr("cy",(function(t){return g(Object(c.g)(e[t],"delta",h))})).style("opacity",0).call((function(t){return t.transition().delay(2100).duration(500).style("opacity",1).attr("cx",(function(t){return o(Object(c.j)(t))})).attr("cy",(function(t){return g(Object(c.g)(e[t],"delta",h))}))}))}),(function(t){return t.transition().duration(500).attr("cx",(function(t){return o(Object(c.j)(t))})).attr("cy",(function(t){return g(Object(c.g)(e[t],"delta",h))})).style("opacity",1).selection()}))}))}}),[p,C,e,q]),Object(v.jsx)("div",{className:"Minigraph",children:a.q.map((function(t,e){return Object(v.jsx)("div",{className:o()("svg-parent"),ref:0===e?R:null,children:Object(v.jsx)("svg",{ref:function(t){i.current[e]=t},preserveAspectRatio:"xMidYMid meet",width:q,height:75})},t)}))})}var R=function(t,e){return!e.forceRender&&(!(e.timeseries||!t.timeseries)||!(e.timeseries&&!t.timeseries)&&(!!m()(e.stateCode,t.stateCode)&&!!m()(e.date,t.date)))};e.default=Object(g.memo)(A,R)}}]);
//# sourceMappingURL=29.fa20890e.chunk.js.map